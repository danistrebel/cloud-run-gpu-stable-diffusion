<!DOCTYPE html>
<html>
<head>
  <title>Image Generator</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="container">

    <div class="form-container">
      <h1>Serverless Stable Diffusion<br/> with Cloud Run GPU</h1>
      <form method="POST">
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-textfield--full-width">
          <textarea class="mdl-textfield__input" type="text" rows="3" id="prompt" name="prompt" style="width: 100%;"></textarea>
          <label class="mdl-textfield__label" for="prompt">Enter a prompt</label>
        </div>

        <br>
        <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored" type="submit" onclick="showLoading()" style="margin-right: 16px;">
          <i class="material-icons">image</i> Generate Image
        </button>
        <button type="button" class="mdl-button mdl-js-button mdl-button--raised" onclick="generatePrompt()" style="margin-right: 16px;">
          <i class="material-icons">create</i> Generate Prompt
        </button>
      </form>
    </div>

    <div class="gallery-container"> 
      <h3>Image Gallery</h3>
      <div class="gallery" id="imageGallery"></div>
    </div>
  </div>

  <div id="loading"> 
    <div class="loader"></div>
  </div>

  <div class="image-overlay" id="imageOverlay" onclick="closeOverlay()">
    <div class="overlay-content">
      <span class="close-overlay" onclick="closeOverlay()">&times;</span>
      <img id="overlayImage" src="" alt="Gallery Image">
    </div>
  </div>
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
